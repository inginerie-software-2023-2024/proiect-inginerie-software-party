@model PetConnect.Models.Pet



<h2>Afisare anunt</h2>
<br />


<div class="flex flex-col items-center bg-white border border-gray-400 rounded-lg shadow md:flex-row md:max-w-screen-xl hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700">
    <img class="object-cover w-full md:w-1/2 rounded-t-lg h-70 md:h-auto md:rounded-none md:rounded-l-lg" src="@Model.Image" alt="Pet Image">
    <div class="flex flex-col justify-between p-4 w-full md:w-1/2 leading-normal">
        <h3 class="text-2xl font-bold mb-4">@Model.Name</h3>
        <table >
            <tr>
                <td><strong>Specie</strong></td>
                <td>@Model.Species</td>
            </tr>
            <tr>
                <td><strong>Rasa</strong></td>
                <td>@Model.Breed</td>
            </tr>
            <tr>
                <td><strong>Varsta</strong></td>
                <td>@Model.Age</td>
            </tr>
            <tr>
                <td><strong>Marime</strong></td>
                <td>@Model.Size</td>
            </tr>
            <tr>
                <td><strong>Gen</strong></td>
                @if (Model.Sex)
                {
                    <td>Mascul</td>
                }
                else
                {
                    <td>Femela</td>
                }
            </tr>
            <tr>
                <td><strong>Culoare</strong></td>
                <td>@Model.Color</td>
            </tr>
            <tr>
                <td><strong>Vaccinat</strong></td>
                @if (Model.Vaccined)
                {
                    <td>Da</td>
                }
                else
                {
                    <td>Nu</td>
                }
            </tr>
            <tr>
                <td><strong>Sterilizat</strong></td>
                @if (Model.Sterilized)
                {
                    <td>Da</td>
                }
                else
                {
                    <td>Nu</td>
                }
            </tr>
            <tr>
                <td><strong>Descriere</strong></td>
                <td>@Model.Description</td>
            </tr>
            <tr>
                <td><strong>Locatie</strong></td>
                <td>@Model.Location</td>
            </tr>
        </table>
        <a href="/AdoptionRequests/New/@Model.PetId" class="btn btn-success">Adopta</a>
    </div>
</div>


<form method="post" action="/Pets/Delete/@Model.PetId">

    <button type="submit">Sterge anunt</button>

</form>

<br />
<form method="post" action="@Url.Action("StartConversation", "Message")">
    <input type="hidden" name="otherUserId" value="@Model.UserId" />
    <button type="submit" class="btn btn-primary" >Începe conversație</button>
</form>


<a href="/Pets/Index">Afisare anunturi</a>



@foreach (var comm in Model.Comments)
{
    <div class="container">
        <div class="row">
            <div class="col-md-2"></div>

            <div class="col-md-8">

                <div>

                    <p>@comm.Content</p>
                    <small>@comm.Date</small>
                     <strong> <i class="bi bi-person"></i> @comm.User.UserName</strong>


                </div>
                <br>

                @if (comm.UserId == ViewBag.UserCurent || ViewBag.EsteAdmin)
                {
                    <div class="d-flex">

                        <div>

                            <a class="btn btn-outline-primary" href="/Comments/Edit/@comm.Id"><i class="bi bi-pencil-square"></i>Editeaza</a>

                        </div>

                        <div>

                            <form method="post" action="/Comments/Delete/@comm.Id">

                                <button class="btn btn-outline-danger" type="submit"><i class="bi bi-trash"></i>Sterge</button>

                            </form>

                        </div>

                    </div>


                }
                <br />

            </div>
            <br>
            <br>
            <div class="col-md-2"></div>

        </div>

    </div>
}
@if (ViewBag.EsteAdmin || ViewBag.EsteUser)
{
    <div class="container">

        <div class="row">

            <div class="col-md-2"></div>

            <div class="col-md-8">

                <div class="card">

                    <form method="post" action="/Pets/Show/@Model.PetId">

                        <div class="card-body">

                            <input type="hidden" name="PetId" value="@Model.PetId" />

                            <label>Continut comentariu</label>
                            <br />

                            <textarea class="form-control" name="Content"></textarea>

                            @Html.ValidationMessage("Content", null, new { @class = "text-danger"})

                            <br /><br />

                            <button class="btn btn-primary " type="submit">Adauga comentariul</button>

                        </div>

                    </form>

                </div>

            </div>

            <div class="col-md-2"></div>

        </div>

    </div>
}

